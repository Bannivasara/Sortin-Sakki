<html>
<head>
	<meta charset="UTF-8">
	<title>Sorolan huumorit</title>
	<link rel="stylesheet" type="text/css" href="../tyylit/style.css">
	<link rel="stylesheet" type="text/css" href="style/style.css">
	<link rel="icon" type="image/svg+xml" href="../tyylit/fav.ico">
	<meta name="description" content="TÃ¤Ã¤ltÃ¤ lÃ¶ydÃ¤t Sorolan perheen jÃ¤senten ansioluettelot ja osaamisprofiilit.">
	<meta name="keywords" content="Sorola, Sortin Sakki, ansioluettelo, huumori">
</head>
<body>
	<div class="banner">
		<h1 class="sorola">Sorolan Huumorikuvat</h1>
		<button id="teeman-vaihto" class="nappula" style="width: auto; padding: 10px 20px;">ðŸŒ™ Vaihda teema</button>
	</div>
    <div id="kuva-grid" class="grid"></div>
    <div style="text-align: center; margin: 20px;">
        <button id="lataa-lisaa" class="nappula" style="display: none;">Lataa lisÃ¤Ã¤ kuvia...</button>
    </div>

    <script>
        let kaikkiKuvat = [];
        let naytettyja = 0;
        const perSivu = 12; // NÃ¤ytetÃ¤Ã¤n 12 kuvaa kerrallaan

        async function alustaGalleria() {
            try {
                // Haetaan JSON-tiedosto, joka on samassa kansiossa GitHubissa
                const res = await fetch('https://sorola.fi/huumorikuvat/kuvat.json')
                kaikkiKuvat = await res.json();
                
                if (kaikkiKuvat.length > 0) {
                    lataaLisaa();
                    document.getElementById('lataa-lisaa').style.display = 'inline-block';
                }
            } catch (e) {
                console.error("Virhe ladattaessa kuvat.json -tiedostoa", e);
            }
        }

        function lataaLisaa() {
            const grid = document.getElementById('kuva-grid');
            const seuraavat = kaikkiKuvat.slice(naytettyja, naytettyja + perSivu);
            
            const uusiSisalto = seuraavat.map(k => `
                <div class="huumori-kortti">
                    <img src="${k.u}" alt="Huumorikuva" loading="lazy">
                    ${k.t ? `<div class="kuvateksti">${k.t}</div>` : ''}
                </div>
            `).join('');

            grid.innerHTML += uusiSisalto;
            naytettyja += perSivu;

            if (naytettyja >= kaikkiKuvat.length) {
                document.getElementById('lataa-lisaa').style.display = 'none';
            }
        }

        document.getElementById('lataa-lisaa').addEventListener('click', lataaLisaa);
        
        // KÃ¤ynnistetÃ¤Ã¤n galleria
        alustaGalleria();
    </script>
	<script src="../tyylit/teemat.js"></script>
	<!-- Cloudflare Web Analytics --><script defer src='https://static.cloudflareinsights.com/beacon.min.js' data-cf-beacon='{"token": "15c457e00da24cef9e3ca960ddde17c4"}'></script><!-- End Cloudflare Web Analytics -->
</body>
</html>
